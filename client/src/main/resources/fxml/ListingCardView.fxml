<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<!-- No fx:controller specified - will be set programmatically -->
<StackPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1">
   <children>
      <!-- Card principale (cliccabile) -->
      <VBox fx:id="itemCard" alignment="TOP_CENTER" onMouseClicked="#openListingDetails" prefHeight="180.0" prefWidth="120.0" styleClass="card">
         <children>
            <!-- Header della card -->
            <HBox alignment="CENTER_LEFT" prefHeight="30.0" styleClass="card-header">
               <children>
                  <Text fx:id="categoryText" strokeType="OUTSIDE" strokeWidth="0.0" styleClass="category-tag" text="Category">
                     <font>
                        <Font size="9.0" />
                     </font>
                     <HBox.margin>
                        <Insets left="8.0" />
                     </HBox.margin>
                  </Text>
               </children>
            </HBox>
            
            <!-- Image container - wrapped in StackPane for indicators -->
            <StackPane prefHeight="80.0" prefWidth="80.0">
               <children>
                  <ImageView fx:id="itemImage" fitHeight="80.0" fitWidth="80.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@../images/icons/immagine_generica.png" />
                     </image>
                  </ImageView>
               </children>
               <VBox.margin>
                  <Insets top="10.0" />
               </VBox.margin>
            </StackPane>
            
            <!-- Listing title -->
            <Text fx:id="itemName" strokeType="OUTSIDE" strokeWidth="0.0" styleClass="item-name" text="Listing Title" textAlignment="CENTER" wrappingWidth="100.0">
               <VBox.margin>
                  <Insets top="8.0" />
               </VBox.margin>
            </Text>
            
            <!-- Seller name with icon -->
            <HBox alignment="CENTER" spacing="2.0">
               <children>
                  <ImageView fitHeight="10.0" fitWidth="10.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@../images/streamline-ultimate-colors---free--24x24-PNG/Single-Neutral-Circle--Streamline-Ultimate.png" />
                     </image>
                  </ImageView>
                  <Text fx:id="sellerName" strokeType="OUTSIDE" strokeWidth="0.0" styleClass="seller-name" text="Seller Name">
                     <font>
                        <Font size="8.0" />
                     </font>
                  </Text>
               </children>
               <VBox.margin>
                  <Insets top="2.0" />
               </VBox.margin>
            </HBox>
            
            <!-- Listing price/type -->
            <Text fx:id="itemPrice" strokeType="OUTSIDE" strokeWidth="0.0" styleClass="price-text" text="â‚¬25.00">
               <VBox.margin>
                  <Insets bottom="5.0" top="5.0" />
               </VBox.margin>
            </Text>
         </children>
      </VBox>
      
      <!-- Favorite icon overlay -->
      <ImageView fx:id="favoriteIcon" fitHeight="22.0" fitWidth="22.0" onMouseClicked="#toggleFavorite" pickOnBounds="true" preserveRatio="true" styleClass="favorite-icon">
         <image>
            <Image url="@../images/preferiti.png" />
         </image>
         <StackPane.margin>
            <Insets right="-80.0" top="-145.0" />
         </StackPane.margin>
      </ImageView>
   </children>
</StackPane>